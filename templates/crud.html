{% extends "/layouts/app.html" %}

{% block title %}Gabriel Fernandes{% endblock %}

{% block content %}
    <div id="crud_page" class="row justify-content-center mx-0">
        {# Escolhemos um model #}
        <div class="col-2 mt-3">
            <label>Model: </label>
            <select v-model="model">
                <option>Project</option>
                <option>Section</option>
            </select>
        </div>

        {# Sera apresentado a respetiva form do model escolhido sem a pagina ser recarregada #}
        <div v-if="model == 'Project'" class="p-5">
            {% with projects=projects %}
                {% include "/crud/projectsCRUDpage.html" %}
            {% endwith %}
        </div>
        <div v-else-if="model == 'Section'" class="p-5">
            {% with sections=sections, projects=projects %}
                {% include "/crud/sectionsCRUDpage.html" %}
            {% endwith %}
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="{{ url_for('static', filename='js/crud.js') }}"></script>
{% endblock %}